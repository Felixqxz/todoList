{"ast":null,"code":"import _toConsumableArray from \"/Users/qianxingzhi/Desktop/TodoWeb/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/qianxingzhi/Desktop/TodoWeb/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/qianxingzhi/Desktop/TodoWeb/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/qianxingzhi/Desktop/TodoWeb/frontend/src/components/todo/Login.jsx\";\nimport React from 'react';\nimport AuthenticationService from './AuthenticationService.js';\nexport default function Login() {\n  var _this = this;\n\n  var _useState = useState({\n    username: '',\n    password: '',\n    hasLoginFailed: false,\n    showSuccessMessage: false\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      loginForm = _useState2[0],\n      setLoginForm = _useState2[1];\n\n  var handleChange = function handleChange(event) {\n    _this.setState(_defineProperty({}, event.target.name, event.target.value));\n  };\n\n  var loginClicked = function loginClicked() {\n    AuthenticationService.executeJwtAuthenticationService(loginForm.username, loginForm.password).then(function (response) {\n      AuthenticationService.registerSuccessfulLoginForJwt(_this.state.username, response.data.token);\n\n      _this.props.history.push(\"/welcome/\".concat(loginForm.username));\n    }).catch(function () {\n      setLoginForm(function (loginForm) {\n        showSuccessMessage: false, _toConsumableArray(loginForm);\n      });\n\n      _this.setState({\n        showSuccessMessage: false\n      });\n\n      _this.setState({\n        hasLoginFailed: true\n      });\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Login\"), React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, loginForm.hasLoginFailed && React.createElement(\"div\", {\n    className: \"alert alert-warning\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Invalid Credentials\"), loginForm.showSuccessMessage && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Login Sucessful\"), \"User Name: \", React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    value: loginForm.username,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), \"Password: \", React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    value: loginForm.password,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"btn btn-success\",\n    onClick: loginClicked,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Login\")));\n}","map":{"version":3,"sources":["/Users/qianxingzhi/Desktop/TodoWeb/frontend/src/components/todo/Login.jsx"],"names":["React","AuthenticationService","Login","useState","username","password","hasLoginFailed","showSuccessMessage","loginForm","setLoginForm","handleChange","event","setState","target","name","value","loginClicked","executeJwtAuthenticationService","then","response","registerSuccessfulLoginForJwt","state","data","token","props","history","push","catch"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,qBAAP,MAAkC,4BAAlC;AAEA,eAAe,SAASC,KAAT,GAAiB;AAAA;;AAAA,kBACMC,QAAQ,CAAC;AACvCC,IAAAA,QAAQ,EAAE,EAD6B;AAEvCC,IAAAA,QAAQ,EAAE,EAF6B;AAGvCC,IAAAA,cAAc,EAAE,KAHuB;AAIvCC,IAAAA,kBAAkB,EAAE;AAJmB,GAAD,CADd;AAAA;AAAA,MACrBC,SADqB;AAAA,MACVC,YADU;;AAQ5B,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAW;AAE5B,IAAA,KAAI,CAACC,QAAL,qBAESD,KAAK,CAACE,MAAN,CAAaC,IAFtB,EAGcH,KAAK,CAACE,MAAN,CAAaE,KAH3B;AAMH,GARD;;AAWA,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AAEvBf,IAAAA,qBAAqB,CAChBgB,+BADL,CACqCT,SAAS,CAACJ,QAD/C,EACyDI,SAAS,CAACH,QADnE,EAEKa,IAFL,CAEU,UAACC,QAAD,EAAc;AAChBlB,MAAAA,qBAAqB,CAACmB,6BAAtB,CAAoD,KAAI,CAACC,KAAL,CAAWjB,QAA/D,EAAyEe,QAAQ,CAACG,IAAT,CAAcC,KAAvF;;AACA,MAAA,KAAI,CAACC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,oBAAoClB,SAAS,CAACJ,QAA9C;AACH,KALL,EAKOuB,KALP,CAKa,YAAM;AACXlB,MAAAA,YAAY,CAAC,UAAAD,SAAS,EAAI;AACtBD,QAAAA,kBAAkB,EAAE,0BAChBC,SADgB;AAEvB,OAHW,CAAZ;;AAIA,MAAA,KAAI,CAACI,QAAL,CAAc;AAAEL,QAAAA,kBAAkB,EAAE;AAAtB,OAAd;;AACA,MAAA,KAAI,CAACK,QAAL,CAAc;AAAEN,QAAAA,cAAc,EAAE;AAAlB,OAAd;AACH,KAZL;AAcH,GAhBD;;AAkBI,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,EAEI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEKE,SAAS,CAACF,cAAV,IACG;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAHR,EAKKE,SAAS,CAACD,kBAAV,IACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBANR,iBAQe;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,UAAxB;AAAmC,IAAA,KAAK,EAAEC,SAAS,CAACJ,QAApD;AAA8D,IAAA,QAAQ,EAAEM,YAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARf,gBASc;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,IAAI,EAAC,UAA5B;AAAuC,IAAA,KAAK,EAAEF,SAAS,CAACH,QAAxD;AAAkE,IAAA,QAAQ,EAAEK,YAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATd,EAWI;AAAQ,IAAA,SAAS,EAAC,iBAAlB;AAAoC,IAAA,OAAO,EAAEM,YAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAXJ,CAFJ,CADJ;AAkBP","sourcesContent":["import React from 'react';\n\nimport AuthenticationService from './AuthenticationService.js'\n\nexport default function Login() {\n    const [loginForm, setLoginForm] = useState({\n        username: '',\n        password: '',\n        hasLoginFailed: false,\n        showSuccessMessage: false\n    });\n\n    const handleChange = (event) => {\n\n        this.setState(\n            {\n                [event.target.name]\n                    : event.target.value\n            }\n        )\n    }\n\n\n    const loginClicked = () => {\n\n        AuthenticationService\n            .executeJwtAuthenticationService(loginForm.username, loginForm.password)\n            .then((response) => {\n                AuthenticationService.registerSuccessfulLoginForJwt(this.state.username, response.data.token)\n                this.props.history.push(`/welcome/${loginForm.username}`)\n            }).catch(() => {\n                setLoginForm(loginForm => {\n                    showSuccessMessage: false,\n                    [...loginForm]\n                })\n                this.setState({ showSuccessMessage: false })\n                this.setState({ hasLoginFailed: true })\n            })\n\n    }\n\n        return (\n            <div>\n                <h1>Login</h1>\n                <div className=\"container\">\n\n                    {loginForm.hasLoginFailed && \n                        <div className=\"alert alert-warning\">Invalid Credentials</div>}\n\n                    {loginForm.showSuccessMessage && \n                        <div>Login Sucessful</div>}\n\n                    User Name: <input type=\"text\" name=\"username\" value={loginForm.username} onChange={handleChange} />\n                    Password: <input type=\"password\" name=\"password\" value={loginForm.password} onChange={handleChange} />\n                    \n                    <button className=\"btn btn-success\" onClick={loginClicked}>Login</button>\n                </div>\n            </div>\n        )\n}\n"]},"metadata":{},"sourceType":"module"}